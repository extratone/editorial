{"actions":[{"pauseBeforeRunning":false,"pauseWithoutShowingParameters":false,"customTitle":"Github Get","class":"WorkflowActionCustom","parameters":{"__custom_action_subtitle__":"Downloads entire github repo to your documents folder","58DCB731-A02B-48CC-8F82-8CE6C16CDAFC":{"type":"advancedText","tokenRanges":{},"text":"This action runs a Python script that can be configured with your own parameters. Tap and hold the action to edit the script or the parameters that are shown here. This comment is actually a text parameter itself – feel free to remove it."},"77871DA1-CF9B-484A-ABD2-A2164336C76B":{"type":"advancedText","tokenRanges":{},"text":"This action runs a Python script that can be configured with your own parameters. Tap the options (▼) button to edit the script or the parameters that are shown here. This comment is actually a text parameter itself – feel free to remove it."},"__custom_action_parameters__":[{"type":"basicText","key":"DE3AC65D-ED2A-4695-8125-20569E0B035E","title":"url"}],"A5175DA1-42DB-4655-BD3E-926462C3ADE1":{"type":"advancedText","tokenRanges":{},"text":"This action runs a Python script that can be configured with your own parameters. Tap the options (▼) button to edit the script or the parameters that are shown here. This comment is actually a text parameter itself – feel free to remove it."},"F12B5772-F13D-4D70-A44A-35426BE0B595":{"type":"advancedText","tokenRanges":{},"text":"This action runs a Python script that can be configured with your own parameters. Tap the options (▼) button to edit the script or the parameters that are shown here. This comment is actually a text parameter itself – feel free to remove it."},"D9430444-C6FB-4DD0-A8C1-9BDF854678B8":{"type":"advancedText","tokenRanges":{},"text":"This action runs a Python script that can be configured with your own parameters. Tap the options (▼) button to edit the script or the parameters that are shown here. This comment is actually a text parameter itself – feel free to remove it."},"__custom_action_script__":"# download an entire github repo.\n#\n# either copy the url to clipboard, and run script, or run following bookmarklet.  \n# will unzip to repo-branch (so be careful if downloading same branch name from multiple users)\n# \n##   javascript:(function()%7Bif(document.location.href.indexOf('http')===0)document.location.href='pythonista:\/\/GitHubGet?action=run&argv='+document.location.href;%7D)();\n\nimport urllib,zipfile,sys, clipboard, functools, re, os, tempfile,console,workflow\n\n# Get the custom parameters as a dictionary (titles are keys):\ndownload_folder = 'Online Downloads'\n\nlocal = os.path.join(os.path.expanduser(\"~\"), \"Documents\")\nos.chdir(local)\n\ntry:\n\tos.makedirs(download_folder)\nexcept:\n\tconsole.hud_alert('Already Made')\n\nos.chdir(download_folder)\n\n# Get the custom parameters as a dictionary (titles are keys):\nparams = workflow.get_parameters()\nURL = params['url']\n# Get the action's input (a string):\naction_in = workflow.get_input()\n\ndef extract_git_id(git):\n    #print git\n    m = re.match((r'^http(s?):\/\/([\\w-]*\\.)?github\\.com\/(?P<user>[\\w-]+)\/(?P<repo>[\\w-]*)'\n                 '((\/tree|\/blob)\/(?P<branch>[\\w-]*))?'), git)\n#    print m.groupdict()\n    return m\n\ndef dlProgress(filename, count, blockSize, totalSize):\n    if count*blockSize > totalSize:\n        percent=100\n    else:\n        percent = max(min(int(count*blockSize*100\/totalSize),100),0)\n    sys.stdout.write(\"\\r\" + filename + \"...%d%%\" % percent)\n    sys.stdout.flush()\n\ndef git_download(url):\n    base='https:\/\/codeload.github.com'\n    archive='zip'\n    m=extract_git_id(url)\n    if m:\n        g=m.groupdict()\n        if not g['branch']:\n            g['branch']='master'\n\n        u=   '\/'.join((base,g['user'],g['repo'],archive, g['branch']))\n        #print u\n        try:\n            with tempfile.NamedTemporaryFile(mode='w+b',suffix='.zip') as f:\n                urllib.urlretrieve(u,f.name,reporthook=functools.partial(dlProgress,u))\n                z=zipfile.ZipFile(f)\n                z.extractall()\n                #print z.namelist()\n        except:\n            print('git url did not return zip file')\n    else:\n        print('could not determine repo url from clipboard or argv')\n        \nif __name__=='__main__':\n    git_download(URL)\n","DE3AC65D-ED2A-4695-8125-20569E0B035E":"https:\/\/github.com\/TutorialDoctor\/The-Bible-App","17D97EAA-2B16-4488-BA4B-891BFE0A91EF":{"type":"advancedText","tokenRanges":{},"text":"This action runs a Python script that can be configured with your own parameters. Tap the options (▼) button to edit the script or the parameters that are shown here. This comment is actually a text parameter itself – feel free to remove it."},"EE0A27C0-89CB-44A2-9185-4BB0B15223E2":{"type":"advancedText","tokenRanges":{},"text":"This action runs a Python script that can be configured with your own parameters. Tap the options (▼) button to edit the script or the parameters that are shown here. This comment is actually a text parameter itself – feel free to remove it."},"ED60AF4E-D857-44AB-B1A6-7E08FF8CA323":{"type":"advancedText","tokenRanges":{},"text":"This action runs a Python script that can be configured with your own parameters. Tap the options (▼) button to edit the script or the parameters that are shown here. This comment is actually a text parameter itself – feel free to remove it."}}},{"pauseBeforeRunning":false,"pauseWithoutShowingParameters":false,"customTitle":"Send to Drafts","class":"WorkflowActionCustom","parameters":{"39FDFB9D-8D85-4A8B-A546-D7451F978EDC":{"type":"advancedText","tokenRanges":{},"text":"This action runs a Python script that can be configured with your own parameters. Tap the options (▼) button to edit the script or the parameters that are shown here. This comment is actually a text parameter itself – feel free to remove it."},"D890C0A9-6A00-4D3F-A997-40B6614EB9E2":{"type":"advancedText","tokenRanges":{},"text":"This action runs a Python script that can be configured with your own parameters. Tap the options (▼) button to edit the script or the parameters that are shown here. This comment is actually a text parameter itself – feel free to remove it."},"31956095-6CAE-4310-A77D-5255BEDFC991":{"type":"advancedText","tokenRanges":{},"text":"This action runs a Python script that can be configured with your own parameters. Tap and hold the action to edit the script or the parameters that are shown here. This comment is actually a text parameter itself – feel free to remove it."},"A0980BAA-E704-49D7-962E-DAB627E9F402":{"type":"advancedText","tokenRanges":{},"text":"This action runs a Python script that can be configured with your own parameters. Tap the options (▼) button to edit the script or the parameters that are shown here. This comment is actually a text parameter itself – feel free to remove it."},"30D112E0-6074-4B9E-9F59-5EFA908FC9A1":{"type":"advancedText","tokenRanges":{},"text":"This action runs a Python script that can be configured with your own parameters. Tap the options (▼) button to edit the script or the parameters that are shown here. This comment is actually a text parameter itself – feel free to remove it."},"E05EB8C4-3C06-48D4-91C9-E5EA271879E5":{"type":"advancedText","tokenRanges":{},"text":"This action runs a Python script that can be configured with your own parameters. Tap the options (▼) button to edit the script or the parameters that are shown here. This comment is actually a text parameter itself – feel free to remove it."},"__custom_action_script__":"#NOTE: Drafts doesn't support a 'success' callback URL when no action is triggered, so if 'Return to Editorial' is on, the text is also copied to the clipboard.\n\nimport workflow\nimport webbrowser\nfrom urllib import quote\n\nparams = workflow.get_parameters()\ntext = params.get('Text', None)\ncallback = params.get('Return to Editorial', False)\n\nif text:\n\turl = 'drafts:\/\/x-callback-url\/create?text=' + quote(text)\n\tif callback:\n\t\turl += '&action=' + quote('Copy to Clipboard')\n\t\turl += '&x-success=' + quote('editorial:\/\/')\n\tsuccess = webbrowser.open(url)\n\tif not success:\n\t\timport console\n\t\tconsole.hud_alert('Drafts not installed', 'error', 1.5)\n","AECCCF4E-41A4-4C07-ABB0-45DF485AFD2D":{"type":"advancedText","tokenRanges":{},"text":"This action runs a Python script that can be configured with your own parameters. Tap the options (▼) button to edit the script or the parameters that are shown here. This comment is actually a text parameter itself – feel free to remove it."},"143D755D-53CA-4286-B024-A20A1578BF3B":{"type":"advancedText","tokenRanges":{},"text":"This action runs a Python script that can be configured with your own parameters. Tap and hold the action to edit the script or the parameters that are shown here. This comment is actually a text parameter itself – feel free to remove it."},"FD8A2171-5D14-4E7B-BEE4-4440DBA53C6C":{"type":"advancedText","tokenRanges":{},"text":"This action runs a Python script that can be configured with your own parameters. Tap the options (▼) button to edit the script or the parameters that are shown here. This comment is actually a text parameter itself – feel free to remove it."},"47E71F88-8D67-4E22-8E06-6EF4DA6D1626":{"type":"advancedText","tokenRanges":{},"text":"This action runs a Python script that can be configured with your own parameters. Tap and hold the action to edit the script or the parameters that are shown here. This comment is actually a text parameter itself – feel free to remove it."},"7A90A31B-EC7D-44F5-89B5-63A8CB4C207F":{"type":"advancedText","tokenRanges":{},"text":"This action runs a Python script that can be configured with your own parameters. Tap the options (▼) button to edit the script or the parameters that are shown here. This comment is actually a text parameter itself – feel free to remove it."},"30B1D86A-AC53-4145-8ABB-481688A09E30":{"type":"advancedText","tokenRanges":{},"text":"This action runs a Python script that can be configured with your own parameters. Tap the options (▼) button to edit the script or the parameters that are shown here. This comment is actually a text parameter itself – feel free to remove it."},"1C841272-0445-4065-853D-785C8DBE61D3":true,"80DD0276-F0F8-436D-87C5-7629D6CEAFA3":{"type":"advancedText","tokenRanges":{},"text":"This action runs a Python script that can be configured with your own parameters. Tap the options (▼) button to edit the script or the parameters that are shown here. This comment is actually a text parameter itself – feel free to remove it."},"2C1B952C-CBC1-4E7E-A1D5-1ADB1D3160A0":{"type":"advancedText","tokenRanges":{},"text":"This action runs a Python script that can be configured with your own parameters. Tap and hold the action to edit the script or the parameters that are shown here. This comment is actually a text parameter itself – feel free to remove it."},"26FA673E-227A-44B4-9DA7-1500D79AEA8D":{"type":"advancedText","tokenRanges":{},"text":"This action runs a Python script that can be configured with your own parameters. Tap and hold the action to edit the script or the parameters that are shown here. This comment is actually a text parameter itself – feel free to remove it."},"25EC689C-ABB6-48E1-B25E-74EC9F12504F":{"type":"advancedText","tokenRanges":{},"text":"This action runs a Python script that can be configured with your own parameters. Tap the options (▼) button to edit the script or the parameters that are shown here. This comment is actually a text parameter itself – feel free to remove it."},"0217F8EB-80EF-4A2C-A9E5-7E18DC6C3248":{"type":"advancedText","tokenRanges":{},"text":"This action runs a Python script that can be configured with your own parameters. Tap the options (▼) button to edit the script or the parameters that are shown here. This comment is actually a text parameter itself – feel free to remove it."},"__custom_action_parameters__":[{"title":"Text","key":"EC988DCA-5C83-43C2-9CD6-1DF50A0A448D","type":"advancedText","height":120},{"type":"switch","key":"1C841272-0445-4065-853D-785C8DBE61D3","title":"Return to Editorial"}],"D8105CEE-A60D-428A-8725-E0042B47E064":{"type":"advancedText","tokenRanges":{},"text":"This action runs a Python script that can be configured with your own parameters. Tap and hold the action to edit the script or the parameters that are shown here. This comment is actually a text parameter itself – feel free to remove it."},"9D2AC570-E651-4717-AB29-C59664A9ADF2":{"type":"advancedText","tokenRanges":{},"text":"This action runs a Python script that can be configured with your own parameters. Tap and hold the action to edit the script or the parameters that are shown here. This comment is actually a text parameter itself – feel free to remove it."},"A035F565-D7EA-4F35-86F2-74B8B91721C2":{"type":"advancedText","tokenRanges":{},"text":"This action runs a Python script that can be configured with your own parameters. Tap the options (▼) button to edit the script or the parameters that are shown here. This comment is actually a text parameter itself – feel free to remove it."},"61F407B4-C038-4092-B68D-BC2B8F8955F0":{"type":"advancedText","tokenRanges":{},"text":"This action runs a Python script that can be configured with your own parameters. Tap and hold the action to edit the script or the parameters that are shown here. This comment is actually a text parameter itself – feel free to remove it."},"291DA446-1159-45ED-AE69-FB0F73E3CB04":{"type":"advancedText","tokenRanges":{},"text":"This action runs a Python script that can be configured with your own parameters. Tap the options (▼) button to edit the script or the parameters that are shown here. This comment is actually a text parameter itself – feel free to remove it."},"F19F7720-C188-42BA-B4F7-8A94251CBB62":{"type":"advancedText","tokenRanges":{},"text":"This action runs a Python script that can be configured with your own parameters. Tap the options (▼) button to edit the script or the parameters that are shown here. This comment is actually a text parameter itself – feel free to remove it."},"18707B4F-778A-4CFB-9DC2-68B986BD3993":{"type":"advancedText","tokenRanges":{},"text":"This action runs a Python script that can be configured with your own parameters. Tap the options (▼) button to edit the script or the parameters that are shown here. This comment is actually a text parameter itself – feel free to remove it."},"7EC41E5D-8181-43D3-90A6-BA7A729AD37A":{"type":"advancedText","tokenRanges":{},"text":"This action runs a Python script that can be configured with your own parameters. Tap the options (▼) button to edit the script or the parameters that are shown here. This comment is actually a text parameter itself – feel free to remove it."},"3C7B69FB-2D3D-4DDC-BDC8-09D83198DE1B":{"type":"advancedText","tokenRanges":{},"text":"This action runs a Python script that can be configured with your own parameters. Tap and hold the action to edit the script or the parameters that are shown here. This comment is actually a text parameter itself – feel free to remove it."},"EC988DCA-5C83-43C2-9CD6-1DF50A0A448D":{"type":"advancedText","tokenRanges":{"{0, 1}":"Input"},"text":"?"},"6091BAEA-7008-4A83-BC09-8B5515F8E323":{"type":"advancedText","tokenRanges":{},"text":"This action runs a Python script that can be configured with your own parameters. Tap the options (▼) button to edit the script or the parameters that are shown here. This comment is actually a text parameter itself – feel free to remove it."},"9A5C7E4F-0E3F-4918-A7B2-A9F790F8BF54":{"type":"advancedText","tokenRanges":{},"text":"This action runs a Python script that can be configured with your own parameters. Tap the options (▼) button to edit the script or the parameters that are shown here. This comment is actually a text parameter itself – feel free to remove it."}}}]}