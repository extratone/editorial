{"actions":[{"pauseBeforeRunning":false,"pauseWithoutShowingParameters":false,"customTitle":"","class":"WorkflowActionFormatString","parameters":{"text":{"type":"advancedText","tokenRanges":{"{0, 1}":"Clipboard"},"text":"?"}}},{"pauseBeforeRunning":false,"pauseWithoutShowingParameters":false,"customTitle":"","class":"WorkflowActionRemoveWhitespace","parameters":{"whitespaceOption":1}},{"pauseBeforeRunning":false,"pauseWithoutShowingParameters":false,"customTitle":"","class":"WorkflowActionRemoveDuplicateLines","parameters":{}},{"pauseBeforeRunning":false,"pauseWithoutShowingParameters":false,"customTitle":"","class":"WorkflowActionRepeatWithLines","parameters":{}},{"pauseBeforeRunning":false,"pauseWithoutShowingParameters":false,"customTitle":"","class":"WorkflowActionCondition","parameters":{"comparisonType":2,"expression2":{"type":"advancedText","tokenRanges":{},"text":"mobile.twitter.com"},"expression1":{"type":"advancedText","tokenRanges":{"{0, 1}":"Clipboard"},"text":"?"}}},{"pauseBeforeRunning":false,"pauseWithoutShowingParameters":false,"customTitle":"","class":"WorkflowActionFormatString","parameters":{"text":{"type":"advancedText","tokenRanges":{"{0, 1}":"Clipboard"},"text":"?"}}},{"pauseBeforeRunning":false,"pauseWithoutShowingParameters":false,"customTitle":"","class":"WorkflowActionFindReplace","parameters":{"replace":{"type":"advancedText","tokenRanges":{},"text":"twitter.com"},"find":{"type":"advancedText","tokenRanges":{},"text":"mobile.twitter.com"},"findOption":1}},{"pauseBeforeRunning":false,"pauseWithoutShowingParameters":false,"customTitle":"","class":"WorkflowActionConditionEnd","parameters":{}},{"pauseBeforeRunning":false,"pauseWithoutShowingParameters":false,"customTitle":"","class":"WorkflowActionFormatString","parameters":{"text":{"type":"advancedText","tokenRanges":{"{0, 1}":"Input"},"text":"?"}}},{"pauseBeforeRunning":false,"colorLabel":2,"pauseWithoutShowingParameters":false,"customTitle":"","class":"WorkflowActionRunScript","parameters":{"script":"import twitter\nimport json\nimport urllib\nimport requests\nimport clipboard\nimport workflow\nimport console\n\nitem = workflow.get_input()\n\nif 'youtube.com' in item:\n\tparameters = {'url': item, 'maxwidth': '1500'}\n\tdata = requests.get('http:\/\/www.youtube.com\/oembed', params=parameters)\n\tif data.status_code == 200:\n\t\tembed = json.loads(data.text)\nelif 'instagram.com' in item:\n\tparameters = {'url': item, 'maxwidth': '850', 'omitscript': 'false', 'beta': 'true', 'align': 'center'}\n\tdata = requests.get('http:\/\/api.instagram.com\/oembed', params=parameters)\n\tif data.status_code == 200:\n\t\tembed = json.loads(data.text)\nelif 'vimeo.com' in item:\n\tparameters = {'url': item, 'maxwidth': '850', 'omitscript': 'false', 'byline': 'false', 'align': 'center'}\n\tdata = requests.get('http:\/\/vimeo.com\/api\/oembed.json', params=parameters)\n\tif data.status_code == 200:\n\t\tembed = json.loads(data.text)\nelif 'ifttt.com' in item:\n\tparameters = {'url': item, 'maxwidth': '850', 'omitscript': 'false', 'align': 'center'}\n\tdata = requests.get('http:\/\/www.ifttt.com\/oembed\/', params=parameters)\n\tif data.status_code == 200:\n\t\tembed = json.loads(data.text)\nelif 'twitter' in item:\n\tall_accounts = twitter.get_all_accounts()\n\tif len(all_accounts) >= 1:\n\t\taccount = all_accounts[0]\n\t\tparameters = {'url': item, 'align': 'center', 'omit_script': 'false', 'maxwidth': '550'}\n\t\tstatus, data = twitter.request(account, 'https:\/\/api.twitter.com\/1.1\/statuses\/oembed.json', 'GET', parameters)\n\t\tif status == 200:\n\t\t\tembed = json.loads(data)\n\nclipboard.set(embed['html'])\nconsole.hud_alert('Embed Generated')\n"}},{"pauseBeforeRunning":false,"pauseWithoutShowingParameters":false,"customTitle":"","class":"WorkflowActionStoreVariable","parameters":{"name":"embeds","value":{"type":"advancedText","tokenRanges":{"{3, 1}":"Clipboard","{0, 1}":"embeds"},"text":"?\n\n?"}}},{"pauseBeforeRunning":false,"pauseWithoutShowingParameters":false,"customTitle":"","class":"WorkflowActionRepeatWithLinesEnd","parameters":{}},{"pauseBeforeRunning":false,"pauseWithoutShowingParameters":false,"customTitle":"","class":"WorkflowActionFormatString","parameters":{"text":{"type":"advancedText","tokenRanges":{"{0, 1}":"embeds"},"text":"?"}}},{"pauseBeforeRunning":false,"pauseWithoutShowingParameters":false,"customTitle":"","class":"WorkflowActionSetClipboard","parameters":{}}]}