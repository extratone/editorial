{"actions":[{"pauseBeforeRunning":false,"pauseWithoutShowingParameters":false,"customTitle":"","class":"WorkflowActionGetSelectedText","parameters":{"emptySelectionOption":0,"foldedTextOption":0,"foldedTextReplacement":"â€¦","selectEntireLines":false}},{"pauseBeforeRunning":false,"pauseWithoutShowingParameters":false,"customTitle":"","class":"WorkflowActionRunScript","parameters":{"script":"#coding: utf-8\n\nimport re\nfrom HTMLParser import HTMLParser\nimport requests\nimport workflow\n\ntitle = ''\nurl = workflow.get_input()\n\nif url.startswith('http'):\n  page = requests.get(url)\n  pattern = re.compile(r'<title>.*\\s*.*\\s*<\\\/title>')\n  title = pattern.findall(page.text)\n\t\n\nif title:\n\ttitle = title[0]\n\thtml = HTMLParser()\n\ttitle = html.unescape(title)\n\nlink = \"[{}]({})\".format(title, url)\n\nworkflow.set_output(link)\n"}},{"pauseBeforeRunning":false,"pauseWithoutShowingParameters":false,"customTitle":"","class":"WorkflowActionReplaceSelectedText","parameters":{"replacement":{"type":"advancedText","tokenRanges":{"{0, 1}":"Input"},"text":"?"}}}]}