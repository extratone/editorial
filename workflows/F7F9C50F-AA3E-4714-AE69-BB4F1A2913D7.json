{"actions":[{"pauseBeforeRunning":false,"pauseWithoutShowingParameters":false,"customTitle":"","class":"WorkflowActionGetFileName","parameters":{"includeFolder":false,"includeExtension":false}},{"pauseBeforeRunning":false,"pauseWithoutShowingParameters":false,"customTitle":"","class":"WorkflowActionStoreVariable","parameters":{"name":"posttitle","value":{"type":"advancedText","tokenRanges":{"{0, 1}":"Input"},"text":"?"}}},{"pauseBeforeRunning":false,"pauseWithoutShowingParameters":false,"customTitle":"","class":"WorkflowActionGetEditorText","parameters":{"foldedTextOption":0,"foldedTextReplacement":"â€¦"}},{"pauseBeforeRunning":false,"pauseWithoutShowingParameters":false,"customTitle":"","class":"WorkflowActionStoreVariable","parameters":{"name":"postcontent","value":{"type":"advancedText","tokenRanges":{"{0, 1}":"Input"},"text":"?"}}},{"pauseBeforeRunning":false,"pauseWithoutShowingParameters":false,"customTitle":"","class":"WorkflowActionSelectFromList","parameters":{"title":"Which forum?","list":{"type":"advancedText","tokenRanges":{},"text":"Pythonista\nEditorial"},"showInPopover":true,"allowMultipleSelection":false}},{"pauseBeforeRunning":false,"pauseWithoutShowingParameters":false,"customTitle":"","class":"WorkflowActionStoreVariable","parameters":{"name":"forum","value":{"type":"advancedText","tokenRanges":{"{0, 1}":"Input"},"text":"?"}}},{"pauseBeforeRunning":false,"pauseWithoutShowingParameters":false,"customTitle":"","class":"WorkflowActionCondition","parameters":{"comparisonType":0,"expression2":{"type":"advancedText","tokenRanges":{},"text":"Editorial"},"expression1":{"type":"advancedText","tokenRanges":{"{0, 1}":"forum"},"text":"?"}}},{"pauseBeforeRunning":false,"pauseWithoutShowingParameters":false,"customTitle":"","class":"WorkflowActionSelectFromList","parameters":{"title":"Category","list":{"type":"advancedText","tokenRanges":{},"text":"General\nWorkflows\nQuestions"},"showInPopover":true,"allowMultipleSelection":false}},{"pauseBeforeRunning":false,"pauseWithoutShowingParameters":false,"customTitle":"","class":"WorkflowActionStoreVariable","parameters":{"name":"category","value":{"type":"advancedText","tokenRanges":{"{0, 1}":"Input"},"text":"?"}}},{"pauseBeforeRunning":false,"pauseWithoutShowingParameters":false,"customTitle":"","class":"WorkflowActionConditionEnd","parameters":{}},{"pauseBeforeRunning":false,"pauseWithoutShowingParameters":false,"customTitle":"","class":"WorkflowActionCondition","parameters":{"comparisonType":0,"expression2":{"type":"advancedText","tokenRanges":{},"text":"Pythonista"},"expression1":{"type":"advancedText","tokenRanges":{"{0, 1}":"forum"},"text":"?"}}},{"pauseBeforeRunning":false,"pauseWithoutShowingParameters":false,"customTitle":"","class":"WorkflowActionSelectFromList","parameters":{"title":"Category","list":{"type":"advancedText","tokenRanges":{},"text":"General\nShare Code\nQuestions"},"showInPopover":true,"allowMultipleSelection":false}},{"pauseBeforeRunning":false,"pauseWithoutShowingParameters":false,"customTitle":"","class":"WorkflowActionStoreVariable","parameters":{"name":"category","value":{"type":"advancedText","tokenRanges":{"{0, 1}":"Input"},"text":"?"}}},{"pauseBeforeRunning":false,"pauseWithoutShowingParameters":false,"customTitle":"","class":"WorkflowActionConditionEnd","parameters":{}},{"pauseBeforeRunning":false,"pauseWithoutShowingParameters":false,"customTitle":"","class":"WorkflowActionRunScript","parameters":{"script":"#coding: utf-8\nimport workflow\n#import clipboard\nimport urllib\n\nforumname = workflow.get_variable('forum').lower()\ncategoryname = workflow.get_variable('category')\n#print 'Forum: '+forumname\n#print 'Category: '+categoryname\n\nposttitle = workflow.get_variable('posttitle')\npostcontent = workflow.get_variable('postcontent')\n#print 'Title: '+posttitle\n#print 'Content: '+postcontent\n\nurl = 'https:\/\/omz-forums.appspot.com\/'+forumname+('\/new?category=%s&omztitle=%s&omzcontent=%s' % (urllib.quote(categoryname), urllib.quote(posttitle), urllib.quote(postcontent)))\n\nworkflow.set_output(url)\n"}},{"pauseBeforeRunning":false,"pauseWithoutShowingParameters":false,"customTitle":"","class":"WorkflowActionOpenURL","parameters":{"openIn":0,"URL":{"type":"advancedText","tokenRanges":{"{0, 1}":"Input"},"text":"?"},"revealBrowserAutomatically":true,"tabOption":0,"waitUntilLoaded":true}},{"pauseBeforeRunning":false,"pauseWithoutShowingParameters":false,"customTitle":"","class":"WorkflowActionEvaluateJavascript","parameters":{"script":"var urls = window.location.href.split('?');\nif (urls.length > 1) {\n    var params = urls[1].split('&');\n    for (x = 0; x < params.length; x++) {\n        var p = params[x].split('=');\n        if (p.length == 2) {\n            if (p[0] == 'omztitle') {\n                var title = decodeURIComponent(p[1]);\n                var titlebox = document.getElementsByName('title')[0];\n                titlebox.value = title;\n            } else if (p[0] == 'omzcontent') {\n                var content = decodeURIComponent(p[1]);\n                var contentbox = document.getElementById('wmd-input');\n                contentbox.value = content\n            }\n        }\n    }\n}\n\n"}}]}